<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BitMagic-C++: bvector&lt;&gt; serialization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BitMagic-C++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bvector&lt;&gt; serialization<div class="ingroups"><a class="el" href="group__bmagic.html">BitMagic Library</a> &raquo; <a class="el" href="group__bvector.html">bvector&lt;&gt; container</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for bvector&lt;&gt; serialization:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__bvserial.png" border="0" alt="" usemap="#group____bvserial"/>
<map name="group____bvserial" id="group____bvserial">
<area shape="rect" id="node1" href="group__bvector.html" title="The Main bvector&lt;&gt; Group bvector&lt;&gt; template: front end of the BitMagic library. " alt="" coords="5,5,141,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbm_1_1serializer.html">bm::serializer&lt; BV &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit-vector serialization class.  <a href="classbm_1_1serializer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbm_1_1deseriaizer__base.html">bm::deseriaizer_base&lt; DEC &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base deserialization class.  <a href="classbm_1_1deseriaizer__base.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbm_1_1deserializer.html">bm::deserializer&lt; BV, DEC &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserializer for bit-vector.  <a href="classbm_1_1deserializer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbm_1_1serial__stream__iterator.html">bm::serial_stream_iterator&lt; DEC &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialization stream iterator.  <a href="classbm_1_1serial__stream__iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbm_1_1operation__deserializer.html">bm::operation_deserializer&lt; BV &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserializer, performs logical operations between bit-vector and serialized bit-vector.  <a href="classbm_1_1operation__deserializer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga537dfe6318f1f1fe18d86dac312be978"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bvserial.html#ga537dfe6318f1f1fe18d86dac312be978">bm::serialization_flags</a> { <a class="el" href="group__bvserial.html#gga537dfe6318f1f1fe18d86dac312be978acdd8c071c079589388c3ca7bd4f367c8">bm::BM_NO_BYTE_ORDER</a> = 1, 
<a class="el" href="group__bvserial.html#gga537dfe6318f1f1fe18d86dac312be978a5521473081d341bc32ac59538e6a8096">bm::BM_NO_GAP_LENGTH</a> = (1 &lt;&lt; 1)
 }<tr class="memdesc:ga537dfe6318f1f1fe18d86dac312be978"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit mask flags for serialization algorithm.  <a href="group__bvserial.html#ga537dfe6318f1f1fe18d86dac312be978">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga537dfe6318f1f1fe18d86dac312be978"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad67deff09b8531a448ae1b1f6f24e152"><td class="memTemplParams" colspan="2">template&lt;class BV &gt; </td></tr>
<tr class="memitem:gad67deff09b8531a448ae1b1f6f24e152"><td class="memTemplItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__bvserial.html#gad67deff09b8531a448ae1b1f6f24e152">bm::serialize</a> (const BV &amp;bv, unsigned char *buf, <a class="el" href="namespacebm.html#a17fd5ba52db3ddda05e6f8dd5000a1a4">bm::word_t</a> *temp_block=0, unsigned <a class="el" href="group__bvserial.html#ga537dfe6318f1f1fe18d86dac312be978">serialization_flags</a>=0)</td></tr>
<tr class="memdesc:gad67deff09b8531a448ae1b1f6f24e152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves bitvector into memory.  <a href="group__bvserial.html#gad67deff09b8531a448ae1b1f6f24e152">More...</a><br /></td></tr>
<tr class="separator:gad67deff09b8531a448ae1b1f6f24e152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac37c86cc9ba0a3d8657f84b1b7ef151f"><td class="memTemplParams" colspan="2">template&lt;class BV &gt; </td></tr>
<tr class="memitem:gac37c86cc9ba0a3d8657f84b1b7ef151f"><td class="memTemplItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__bvserial.html#gac37c86cc9ba0a3d8657f84b1b7ef151f">bm::serialize</a> (BV &amp;bv, unsigned char *buf, unsigned <a class="el" href="group__bvserial.html#ga537dfe6318f1f1fe18d86dac312be978">serialization_flags</a>=0)</td></tr>
<tr class="memdesc:gac37c86cc9ba0a3d8657f84b1b7ef151f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves bitvector into memory. Allocates temporary memory block for bvector.  <a href="group__bvserial.html#gac37c86cc9ba0a3d8657f84b1b7ef151f">More...</a><br /></td></tr>
<tr class="separator:gac37c86cc9ba0a3d8657f84b1b7ef151f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9193b4dcc3b9daa15341c1b1c1d00efa"><td class="memTemplParams" colspan="2">template&lt;class BV &gt; </td></tr>
<tr class="memitem:ga9193b4dcc3b9daa15341c1b1c1d00efa"><td class="memTemplItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__bvserial.html#ga9193b4dcc3b9daa15341c1b1c1d00efa">bm::deserialize</a> (BV &amp;bv, const unsigned char *buf, <a class="el" href="namespacebm.html#a17fd5ba52db3ddda05e6f8dd5000a1a4">bm::word_t</a> *temp_block=0)</td></tr>
<tr class="memdesc:ga9193b4dcc3b9daa15341c1b1c1d00efa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitvector deserialization from memory.  <a href="group__bvserial.html#ga9193b4dcc3b9daa15341c1b1c1d00efa">More...</a><br /></td></tr>
<tr class="separator:ga9193b4dcc3b9daa15341c1b1c1d00efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Serialization for <a class="el" href="classbm_1_1bvector.html">bvector&lt;&gt;</a> container </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga537dfe6318f1f1fe18d86dac312be978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga537dfe6318f1f1fe18d86dac312be978">&#9670;&nbsp;</a></span>serialization_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__bvserial.html#ga537dfe6318f1f1fe18d86dac312be978">bm::serialization_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bit mask flags for serialization algorithm. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga537dfe6318f1f1fe18d86dac312be978acdd8c071c079589388c3ca7bd4f367c8"></a>BM_NO_BYTE_ORDER&#160;</td><td class="fielddoc"><p>save no byte-order info (save some space) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga537dfe6318f1f1fe18d86dac312be978a5521473081d341bc32ac59538e6a8096"></a>BM_NO_GAP_LENGTH&#160;</td><td class="fielddoc"><p>save no GAP info (save some space) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="bmserial_8h_source.html#l01140">1140</a> of file <a class="el" href="bmserial_8h_source.html">bmserial.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9193b4dcc3b9daa15341c1b1c1d00efa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9193b4dcc3b9daa15341c1b1c1d00efa">&#9670;&nbsp;</a></span>deserialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BV &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned bm::deserialize </td>
          <td>(</td>
          <td class="paramtype">BV &amp;&#160;</td>
          <td class="paramname"><em>bv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacebm.html#a17fd5ba52db3ddda05e6f8dd5000a1a4">bm::word_t</a> *&#160;</td>
          <td class="paramname"><em>temp_block</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bitvector deserialization from memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bv</td><td>- target bvector </td></tr>
    <tr><td class="paramname">buf</td><td>- pointer on memory which keeps serialized bvector </td></tr>
    <tr><td class="paramname">temp_block</td><td>- pointer on temporary block, if NULL bvector allocates own. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes consumed by deserializer.</dd></dl>
<p>Function desrializes bitvector from memory block containig results of previous serialization. Function does not remove bits which are currently set. Effectively it means OR logical operation between current bitset and previously serialized one. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="bvsetalgebra_8cpp-example.html#a23">bvsetalgebra.cpp</a>, <a class="el" href="sample14_8cpp-example.html#a13">sample14.cpp</a>, <a class="el" href="sample4_8cpp-example.html#a23">sample4.cpp</a>, and <a class="el" href="xsample01_8cpp-example.html#a40">xsample01.cpp</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="bmserial_8h_source.html#l01249">1249</a> of file <a class="el" href="bmserial_8h_source.html">bmserial.h</a>.</p>

<p class="reference">References <a class="el" href="bmconst_8h_source.html#l00407">bm::BigEndian</a>, <a class="el" href="bmdef_8h_source.html#l00116">BM_ASSERT</a>, <a class="el" href="bmserial_8h_source.html#l00096">bm::BM_HM_NO_BO</a>, <a class="el" href="bmserial_8h_source.html#l01526">bm::deserializer&lt; BV, DEC &gt;::deserialize()</a>, <a class="el" href="encoding_8h_source.html#l00080">bm::decoder_base::get_8()</a>, and <a class="el" href="bmconst_8h_source.html#l00408">bm::LittleEndian</a>.</p>

<p class="reference">Referenced by <a class="el" href="xsample01_8cpp_source.html#l00303">convert_bv2bvs()</a>, <a class="el" href="bvsetalgebra_8cpp_source.html#l00221">DemoAND()</a>, <a class="el" href="bvsetalgebra_8cpp_source.html#l00095">DemoOR()</a>, <a class="el" href="bvsetalgebra_8cpp_source.html#l00404">DemoSUB()</a>, <a class="el" href="bvsetalgebra_8cpp_source.html#l00331">DemoXOR()</a>, <a class="el" href="bmsparsevec__serial_8h_source.html#l00410">bm::compressed_collection_deserializer&lt; CBC &gt;::deserialize()</a>, <a class="el" href="bmserial_8h_source.html#l00315">bm::deserializer&lt; typename SV::bvector_type, bm::decoder &gt;::deserializer()</a>, and <a class="el" href="sample14_8cpp_source.html#l00059">main()</a>.</p>

</div>
</div>
<a id="gad67deff09b8531a448ae1b1f6f24e152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad67deff09b8531a448ae1b1f6f24e152">&#9670;&nbsp;</a></span>serialize() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BV &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned bm::serialize </td>
          <td>(</td>
          <td class="paramtype">const BV &amp;&#160;</td>
          <td class="paramname"><em>bv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacebm.html#a17fd5ba52db3ddda05e6f8dd5000a1a4">bm::word_t</a> *&#160;</td>
          <td class="paramname"><em>temp_block</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>serialization_flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves bitvector into memory. </p>
<p>Function serializes content of the bitvector into memory. Serialization adaptively uses compression(variation of GAP encoding) when it is benefitial.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bv</td><td>- source bvecor </td></tr>
    <tr><td class="paramname">buf</td><td>- pointer on target memory area. No range checking in the function. It is responsibility of programmer to allocate sufficient amount of memory using information from calc_stat function.</td></tr>
    <tr><td class="paramname">temp_block</td><td>- pointer on temporary memory block. Cannot be 0; If you want to save memory across multiple bvectors allocate temporary block using allocate_tempblock and pass it to serialize. (Serialize does not deallocate temp_block.)</td></tr>
    <tr><td class="paramname">serialization_flags</td><td>Flags controlling serilization (bit-mask) (use OR-ed serialization flags)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of serialization block. </dd></dl>
<dl class="section see"><dt>See also</dt><dd>calc_stat, <a class="el" href="group__bvserial.html#ga537dfe6318f1f1fe18d86dac312be978" title="Bit mask flags for serialization algorithm. ">serialization_flags</a></dd></dl>
<p>Serialization format: </p><pre></pre><pre>| HEADER | BLOCKS |</pre><pre>Header structure:
  BYTE : Serialization header (bit mask of BM_HM_*)
  BYTE : Byte order ( 0 - Big Endian, 1 - Little Endian)
  INT16: Reserved (0)
  INT16: Reserved Flags (0)</pre><pre></pre> 
<p class="definition">Definition at line <a class="el" href="bmserial_8h_source.html#l01188">1188</a> of file <a class="el" href="bmserial_8h_source.html">bmserial.h</a>.</p>

<p class="reference">References <a class="el" href="bmserial_8h_source.html#l01141">bm::BM_NO_BYTE_ORDER</a>, <a class="el" href="bmserial_8h_source.html#l01142">bm::BM_NO_GAP_LENGTH</a>, and <a class="el" href="bmserial_8h_source.html#l00657">bm::serializer&lt; BV &gt;::byte_order_serialization()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmserial_8h_source.html#l01223">bm::serialize()</a>.</p>

</div>
</div>
<a id="gac37c86cc9ba0a3d8657f84b1b7ef151f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac37c86cc9ba0a3d8657f84b1b7ef151f">&#9670;&nbsp;</a></span>serialize() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BV &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned bm::serialize </td>
          <td>(</td>
          <td class="paramtype">BV &amp;&#160;</td>
          <td class="paramname"><em>bv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>serialization_flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves bitvector into memory. Allocates temporary memory block for bvector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bv</td><td>- source bvecor </td></tr>
    <tr><td class="paramname">buf</td><td>- pointer on target memory area. No range checking in the function. It is responsibility of programmer to allocate sufficient amount of memory using information from calc_stat function.</td></tr>
    <tr><td class="paramname">serialization_flags</td><td>Flags controlling serilization (bit-mask) (use OR-ed serialization flags) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="bmserial_8h_source.html#l01223">1223</a> of file <a class="el" href="bmserial_8h_source.html">bmserial.h</a>.</p>

<p class="reference">References <a class="el" href="bmserial_8h_source.html#l01188">bm::serialize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="bmserial_8h_source.html#l00890">bm::serializer&lt; bvector_type &gt;::serialize()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
